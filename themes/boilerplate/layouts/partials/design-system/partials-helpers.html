<!-- Helpers & Utils Documentation -->
<div class="space-y-8">
  
  <!-- Introduction -->
  <div class="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 rounded-lg border border-teal-200">
    <h2 class="text-2xl font-bold text-teal-900 mb-3">🔧 Helpers & Utilities Reference</h2>
    <p class="text-teal-800 mb-4">Helper functions and utility partials that provide common functionality across your site. These are typically used internally by other partials or for specific technical requirements.</p>
    <div class="bg-teal-100 p-3 rounded border border-teal-300">
      <p class="text-sm text-teal-800"><strong>💡 Tip:</strong> Helpers are usually called by other partials but can be used directly when you need specific functionality like language handling or content relationships.</p>
    </div>
  </div>

  <!-- Helper Functions -->
  <div class="bg-background-alt p-6 rounded-lg">
    <h3 class="text-xl font-semibold mb-4">Helper Functions</h3>
    
    <div class="space-y-6">
      <!-- Language URL Helper -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Get Language URL</h4>
        <p class="text-text-light mb-4">Generates correct URLs for specific languages, handling translation URLs and fallbacks.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`{{ $url := partial "helpers/get-language-url.html" (dict 
  "code" "en" 
  "langData" $langData 
  "currentPage" $currentPage 
  "filePath" $filePath
) }}

<!-- Use in templates -->
<a href="{{ $url }}">{{ $langData.name }}</a>`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Example Output:</h5>
          <div class="space-y-2">
            <div class="p-3 bg-white rounded border">
              <code class="text-sm">
                <!-- For English: --> <br>
                {{ partial "helpers/get-language-url.html" (dict "code" "en") }}
                <!-- Returns: /en/current-page/ -->
              </code>
            </div>
            <div class="p-3 bg-white rounded border">
              <code class="text-sm">
                <!-- For Spanish: --> <br>
                {{ partial "helpers/get-language-url.html" (dict "code" "es") }}
                <!-- Returns: /es/current-page/ or fallback URL -->
              </code>
            </div>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> code (required), langData, currentPage, filePath, permalink
            <br><strong>Returns:</strong> URL string for the specified language
          </div>
        </div>
      </div>

      <!-- Country Code Helper -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Get Country Code</h4>
        <p class="text-text-light mb-4">Converts language codes to country codes for flag displays and regional settings.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`{{ $countryCode := partial "helpers/get-country-code.html" (dict 
  "langCode" "en"
) }}

<!-- Use for flag images -->
<img src="/images/flags/{{ $countryCode | lower }}.svg" 
     alt="{{ $countryCode }} flag" 
     class="w-5 h-5">`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Example Conversions:</h5>
          <div class="grid grid-cols-2 gap-4">
            <div class="space-y-2">
              <div class="p-2 bg-white rounded border text-sm">
                <strong>en</strong> → US
              </div>
              <div class="p-2 bg-white rounded border text-sm">
                <strong>es</strong> → ES
              </div>
              <div class="p-2 bg-white rounded border text-sm">
                <strong>fr</strong> → FR
              </div>
            </div>
            <div class="space-y-2">
              <div class="p-2 bg-white rounded border text-sm">
                <strong>de</strong> → DE
              </div>
              <div class="p-2 bg-white rounded border text-sm">
                <strong>pt</strong> → PT
              </div>
              <div class="p-2 bg-white rounded border text-sm">
                <strong>zh</strong> → CN
              </div>
            </div>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> langCode (required)
            <br><strong>Returns:</strong> Two-letter country code string
          </div>
        </div>
      </div>

      <!-- Hreflang Links Helper -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Generate Hreflang Links</h4>
        <p class="text-text-light mb-4">Generates hreflang link tags for SEO and international site versions.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`<!-- In head section -->
{{ partial "helpers/generate-hreflang-links.html" (dict 
  "currentPage" $currentPage
  "languages" site.Languages
  "alternateURLs" $alternateURLs
) }}

<!-- Generates multiple link rel="alternate" tags -->`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Generated Output:</h5>
          <div class="p-3 bg-white rounded border">
            <code class="text-sm text-gray-600">
              &lt;link rel="alternate" hreflang="en" href="https://example.com/en/page/" /&gt;<br>
              &lt;link rel="alternate" hreflang="es" href="https://example.com/es/page/" /&gt;<br>
              &lt;link rel="alternate" hreflang="fr" href="https://example.com/fr/page/" /&gt;<br>
              &lt;link rel="alternate" hreflang="x-default" href="https://example.com/en/page/" /&gt;
            </code>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> currentPage, languages, alternateURLs
            <br><strong>Output:</strong> HTML link tags with hreflang attributes
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Utility Partials -->
  <div class="bg-background-alt p-6 rounded-lg">
    <h3 class="text-xl font-semibold mb-4">Utility Partials</h3>
    
    <div class="space-y-6">
      <!-- Related Content -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Related Content</h4>
        <p class="text-text-light mb-4">Generates related content suggestions based on tags, categories, or custom relationships.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`{{ partial "related_content.html" (dict
  "currentPage" $currentPage
  "maxItems" 3
  "source" "tags"
  "layout" "cards"
  "heading" "Related Articles"
  "showExcerpt" true
  "showDate" true
  "showAuthor" false
) }}`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Live Example:</h5>
          <div class="border rounded-lg overflow-hidden bg-white p-6">
            <h5 class="text-lg font-semibold mb-4">Related Articles</h5>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="border rounded-lg p-4">
                <div class="w-full h-32 bg-gray-200 rounded mb-3"></div>
                <h6 class="font-medium mb-2">Getting Started with AI Workflows</h6>
                <p class="text-sm text-gray-600 mb-2">Learn the basics of building your first automation workflow...</p>
                <span class="text-xs text-gray-500">Mar 15, 2024</span>
              </div>
              <div class="border rounded-lg p-4">
                <div class="w-full h-32 bg-gray-200 rounded mb-3"></div>
                <h6 class="font-medium mb-2">Advanced Integration Patterns</h6>
                <p class="text-sm text-gray-600 mb-2">Discover powerful integration techniques for complex workflows...</p>
                <span class="text-xs text-gray-500">Mar 12, 2024</span>
              </div>
              <div class="border rounded-lg p-4">
                <div class="w-full h-32 bg-gray-200 rounded mb-3"></div>
                <h6 class="font-medium mb-2">Optimizing Performance</h6>
                <p class="text-sm text-gray-600 mb-2">Tips and tricks for making your workflows run faster...</p>
                <span class="text-xs text-gray-500">Mar 10, 2024</span>
              </div>
            </div>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> currentPage, maxItems, source (tags/categories/custom), layout (cards/list/grid), heading, showExcerpt, showDate, showAuthor
          </div>
        </div>
      </div>

      <!-- Link Building -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Link Building</h4>
        <p class="text-text-light mb-4">Intelligent link generation for internal linking and SEO optimization.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`{{ partial "utils/linkbuilding.html" (dict 
  "content" $content
  "keywords" (slice "AI automation" "workflow" "integration")
  "targetPages" $targetPages
  "maxLinks" 5
  "openInNewTab" false
  "addNofollow" false
  "trackClicks" true
) }}`}}</code></pre>
        </div>

      </div>
    </div>
  </div>

  <!-- Head Utilities -->
  <div class="bg-background-alt p-6 rounded-lg">
    <h3 class="text-xl font-semibold mb-4">Head Utilities</h3>
    
    <div class="space-y-6">
      <!-- CSS Utility -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">CSS Management</h4>
        <p class="text-text-light mb-4">Manages CSS includes, minification, and optimization for performance.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`<!-- In head.html -->
{{ partial "head/css.html" (dict 
  "page" $page
  "site" $site
  "environment" hugo.Environment
  "customCSS" (slice "/css/custom.css" "/css/theme.css")
  "inlineCSS" $inlineStyles
  "preload" true
) }}`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Features:</h5>
          <ul class="text-sm space-y-1">
            <li>• Automatic CSS minification in production</li>
            <li>• Critical CSS inlining for performance</li>
            <li>• Preloading of important stylesheets</li>
            <li>• Environment-specific CSS loading</li>
            <li>• Custom CSS injection capability</li>
          </ul>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> page, site, environment, customCSS, inlineCSS, preload
          </div>
        </div>
      </div>

      <!-- JavaScript Utility -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">JavaScript Management</h4>
        <p class="text-text-light mb-4">Handles JavaScript loading, bundling, and optimization strategies.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`<!-- Before closing body tag -->
{{ partial "head/js.html" (dict 
  "page" $page
  "site" $site
  "scripts" (slice "/js/app.js" "/js/analytics.js")
  "inlineJS" $inlineScripts
  "defer" true
  "async" false
) }}`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Features:</h5>
          <ul class="text-sm space-y-1">
            <li>• Automatic script bundling and minification</li>
            <li>• Defer and async loading strategies</li>
            <li>• Inline script injection for critical code</li>
            <li>• Environment-specific script loading</li>
            <li>• Performance optimization for Core Web Vitals</li>
          </ul>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> page, site, scripts, inlineJS, defer, async, preload
          </div>
        </div>
      </div>

      <!-- Variables Utility -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">CSS Variables</h4>
        <p class="text-text-light mb-4">Generates CSS custom properties for theme customization and design tokens.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`{{ partial "head/variables.html" (dict 
  "theme" $theme
  "colors" $colorPalette
  "typography" $typographyScale
  "spacing" $spacingScale
  "breakpoints" $breakpoints
  "darkMode" true
) }}`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Generated Variables:</h5>
          <div class="p-3 bg-white rounded border">
            <code class="text-sm text-gray-600">
              :root {<br>
              &nbsp;&nbsp;--color-primary: #3b82f6;<br>
              &nbsp;&nbsp;--color-secondary: #6b7280;<br>
              &nbsp;&nbsp;--font-size-base: 1rem;<br>
              &nbsp;&nbsp;--spacing-base: 1rem;<br>
              &nbsp;&nbsp;--breakpoint-md: 768px;<br>
              }
            </code>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> theme, colors, typography, spacing, breakpoints, darkMode
            <br><strong>Output:</strong> CSS custom properties for consistent theming
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Social Meta -->
  <div class="bg-background-alt p-6 rounded-lg">
    <h3 class="text-xl font-semibold mb-4">Social Meta Tags</h3>
    
    <div class="space-y-6">
      <!-- Social Meta Generator -->
      <div class="mb-6">
        <h4 class="text-lg font-medium mb-3">Social Meta Tags</h4>
        <p class="text-text-light mb-4">Generates Open Graph, Twitter Card, and other social media meta tags for better sharing.</p>
        
        <div class="bg-background p-4 rounded border mb-4">
          <h5 class="font-medium mb-2">Usage:</h5>
          <pre class="text-sm overflow-x-auto"><code>{{`<!-- In head.html -->
{{ partial "social-meta.html" (dict 
  "page" $page
  "site" $site
  "title" $customTitle
  "description" $customDescription
  "image" $socialImage
  "type" "article"
  "twitter" true
  "facebook" true
  "linkedin" true
) }}`}}</code></pre>
        </div>

        <div class="bg-gray-50 p-4 rounded border">
          <h5 class="font-medium mb-3">Generated Meta Tags:</h5>
          <div class="p-3 bg-white rounded border">
            <code class="text-sm text-gray-600">
              &lt;meta property="og:title" content="Page Title" /&gt;<br>
              &lt;meta property="og:description" content="Page description..." /&gt;<br>
              &lt;meta property="og:image" content="https://example.com/image.jpg" /&gt;<br>
              &lt;meta property="og:type" content="article" /&gt;<br>
              &lt;meta name="twitter:card" content="summary_large_image" /&gt;<br>
              &lt;meta name="twitter:title" content="Page Title" /&gt;
            </code>
          </div>
          <div class="mt-3 text-xs text-gray-600">
            <strong>Parameters:</strong> page, site, title, description, image, type, twitter, facebook, linkedin
            <br><strong>Output:</strong> Complete social media meta tags for optimal sharing
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Helper Guidelines -->
  <div class="bg-teal-50 p-6 rounded-lg border border-teal-200">
    <h3 class="text-lg font-semibold text-teal-900 mb-2">📋 Helper & Utility Guidelines</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <h4 class="font-medium text-teal-900 mb-2">When to Use Helpers:</h4>
        <ul class="text-teal-800 space-y-1 text-sm">
          <li>• Building multilingual websites with language switching</li>
          <li>• Need automatic internal linking for SEO</li>
          <li>• Generating related content sections</li>
          <li>• Managing CSS/JS optimization automatically</li>
          <li>• Creating consistent social media meta tags</li>
        </ul>
      </div>
      <div>
        <h4 class="font-medium text-teal-900 mb-2">Performance Benefits:</h4>
        <ul class="text-teal-800 space-y-1 text-sm">
          <li>• Automatic CSS/JS minification in production</li>
          <li>• Critical resource preloading</li>
          <li>• Optimized social media sharing</li>
          <li>• SEO-friendly hreflang generation</li>
          <li>• Efficient related content algorithms</li>
        </ul>
      </div>
    </div>
    
    <div class="mt-4 p-3 bg-yellow-100 rounded border border-yellow-300">
      <p class="text-sm text-yellow-800"><strong>⚠️ Technical Note:</strong> Most helpers are called automatically by the theme, but you can use them directly for custom functionality. Always test helpers in your development environment before deploying.</p>
    </div>
  </div>

</div>
