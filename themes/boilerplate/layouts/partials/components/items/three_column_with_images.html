{{/*
@component: Three Column With Images
@description: Displays content in a three-column grid layout with featured images above content, ideal for blog posts or article listings.
@params:
  - bgColor: Background color class (optional, default: "bg-white")
  - padding: Padding classes (optional, default: "py-24 sm:py-32")
  - heading: Section heading text (optional, default: "From the blog")
  - headingColor: Heading text color (optional, default: "text-gray-900")
  - description: Section description text (optional, default: "Learn how to grow your business with our expert advice.")
  - descriptionColor: Description text color (optional, default: "text-gray-600")
  - centerHeading: Whether to center the heading and description (optional, default: true)
  - imageBgColor: Image background color (optional, default: "bg-gray-100")
  - imageRingColor: Image ring color (optional, default: "ring-gray-900/10")
  - titleColor: Item title color (optional, default: "text-gray-900")
  - titleHoverColor: Item title hover color (optional, default: "group-hover:text-gray-600")
  - itemDescriptionColor: Item description color (optional, default: "text-gray-600")
  - dateColor: Date text color (optional, default: "text-gray-500")
  - authorNameColor: Author name color (optional, default: "text-gray-900")
  - authorRoleColor: Author role color (optional, default: "text-gray-600")
  - authorImageBg: Author image background color (optional, default: "bg-gray-100")
  - items: Array of item objects, each with:
    - image: URL to the featured image (required)
    - imageAlt: Alt text for the image (optional)
    - date: ISO date for datetime attribute (optional)
    - dateDisplay: Formatted date string (optional)
    - category: Category name (optional)
    - categoryLink: URL for the category (optional)
    - categoryBg: Category badge background color (optional)
    - categoryColor: Category badge text color (optional)
    - categoryHoverBg: Category badge hover background color (optional)
    - title: Item title (required)
    - titleLink: URL for the title (required)
    - description: Item description text (optional)
    - authorImage: URL to the author's image (optional)
    - authorName: Author's name (optional)
    - authorLink: URL for the author (optional)
    - authorRole: Author's role/position (optional)
@example:
  {{ partial "components/items/three_column_with_images.html" (dict 
      "heading" "Latest Articles"
      "description" "Explore our most recent content"
      "items" (slice 
        (dict 
          "image" "/images/blog/article1.jpg"
          "imageAlt" "Article feature image"
          "date" "2025-04-22"
          "dateDisplay" "Apr 22, 2025"
          "category" "Technology"
          "categoryLink" "/categories/technology"
          "title" "The Future of AI in Content Creation"
          "titleLink" "/blog/ai-content-creation"
          "description" "Learn how artificial intelligence is revolutionizing the way we create and consume content."
          "authorName" "Jamie Rodriguez"
          "authorLink" "/team/jamie"
          "authorRole" "AI Specialist"
        )
      )
  ) }}
@note: This component works well for blog post listings, featuring articles, or displaying team members with profile images.
*/}}

{{/* Configurable variables */}}
{{ $bgColor := .bgColor | default "bg-white" }}
{{ $padding := .padding | default "py-24 sm:py-32" }}

{{/* Heading section */}}
{{ $heading := .heading | default "From the blog" }}
{{ $headingColor := .headingColor | default "text-gray-900" }}
{{ $description := .description | default "Learn how to grow your business with our expert advice." }}
{{ $descriptionColor := .descriptionColor | default "text-gray-600" }}
{{ $centerHeading := .centerHeading | default true }}

{{/* Items */}}
{{ $items := .items | default (slice 
  (dict 
    "image" "https://images.unsplash.com/photo-1496128858413-b36217c2ce36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-03-16"
    "dateDisplay" "Mar 16, 2020"
    "category" "Marketing"
    "categoryLink" "#"
    "categoryBg" "bg-gray-50"
    "categoryColor" "text-gray-600"
    "categoryHoverBg" "hover:bg-gray-100"
    "title" "Boost your conversion rate"
    "titleLink" "#"
    "description" "Illo sint voluptas. Error voluptates culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus unde. Sed exercitationem placeat consectetur nulla deserunt vel. Iusto corrupti dicta."
    "authorImage" "https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Michael Foster"
    "authorLink" "#"
    "authorRole" "Co-Founder / CTO"
  )
  (dict 
    "image" "https://images.unsplash.com/photo-1547586696-ea22b4d4235d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-03-10"
    "dateDisplay" "Mar 10, 2020"
    "category" "Sales"
    "categoryLink" "#"
    "categoryBg" "bg-gray-50"
    "categoryColor" "text-gray-600"
    "categoryHoverBg" "hover:bg-gray-100"
    "title" "How to use search engine optimization to drive sales"
    "titleLink" "#"
    "description" "Optio cum necessitatibus dolor voluptatum provident commodi et. Qui aperiam fugiat nemo cumque."
    "authorImage" "https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Lindsay Walton"
    "authorLink" "#"
    "authorRole" "Front-end Developer"
  )
  (dict 
    "image" "https://images.unsplash.com/photo-1492724441997-5dc865305da7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-02-12"
    "dateDisplay" "Feb 12, 2020"
    "category" "Business"
    "categoryLink" "#"
    "categoryBg" "bg-gray-50"
    "categoryColor" "text-gray-600"
    "categoryHoverBg" "hover:bg-gray-100"
    "title" "Improve your customer experience"
    "titleLink" "#"
    "description" "Cupiditate maiores ullam eveniet adipisci in doloribus nulla minus. Voluptas iusto libero adipisci rem et corporis."
    "authorImage" "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Courtney Henry"
    "authorLink" "#"
    "authorRole" "Designer"
  )
) }}

{{/* Item styling */}}
{{ $imageBgColor := .imageBgColor | default "bg-gray-100" }}
{{ $imageRingColor := .imageRingColor | default "ring-gray-900/10" }}
{{ $titleColor := .titleColor | default "text-gray-900" }}
{{ $titleHoverColor := .titleHoverColor | default "group-hover:text-gray-600" }}
{{ $descriptionColor := .itemDescriptionColor | default "text-gray-600" }}
{{ $dateColor := .dateColor | default "text-gray-500" }}
{{ $authorNameColor := .authorNameColor | default "text-gray-900" }}
{{ $authorRoleColor := .authorRoleColor | default "text-gray-600" }}
{{ $authorImageBg := .authorImageBg | default "bg-gray-100" }}

<div class="{{ $bgColor }} {{ $padding }}">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl {{ if $centerHeading }}text-center{{ end }}">
      <h2 class="text-4xl font-semibold tracking-tight text-balance {{ $headingColor }} sm:text-5xl">{{ $heading }}</h2>
      <p class="mt-2 text-lg/8 {{ $descriptionColor }}">{{ $description }}</p>
    </div>
    <div class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-3">
      {{ range $items }}
      <article class="flex flex-col items-start justify-between">
        <div class="relative w-full">
          {{ if .image }}
            {{ partial "components/media/lazyimg.html" (dict 
              "src" .image 
              "alt" .imageAlt 
              "class" "aspect-video w-full rounded-2xl {{ $imageBgColor }} object-cover sm:aspect-2/1 lg:aspect-3/2"
              "maxWidth" 600
            ) }}
          {{ end }}
          <div class="absolute inset-0 rounded-2xl ring-1 {{ $imageRingColor }} ring-inset"></div>
        </div>
        <div class="max-w-xl">
          <div class="mt-8 flex items-center gap-x-4 text-xs">
            {{ if .date }}<time datetime="{{ .date }}" class="{{ $dateColor }}">{{ .dateDisplay }}</time>{{ end }}
            {{ if .category }}<a href="{{ .categoryLink }}" class="relative z-10 rounded-full {{ .categoryBg }} px-3 py-1.5 font-medium {{ .categoryColor }} {{ .categoryHoverBg }}">{{ .category }}</a>{{ end }}
          </div>
          <div class="group relative">
            <h3 class="mt-3 text-lg/6 font-semibold {{ $titleColor }} {{ $titleHoverColor }}">
              <a href="{{ .titleLink }}">
                <span class="absolute inset-0"></span>
                {{ .title }}
              </a>
            </h3>
            <p class="mt-5 line-clamp-3 text-sm/6 {{ $descriptionColor }}">{{ .description }}</p>
          </div>
          {{ if .authorName }}
          <div class="relative mt-8 flex items-center gap-x-4">
            {{ if .authorImage }}
              {{ partial "components/media/lazyimg.html" (dict 
                "src" .authorImage 
                "alt" .authorName 
                "class" "size-10 rounded-full {{ $authorImageBg }}"
                "maxWidth" 64
              ) }}
            {{ end }}
            <div class="text-sm/6">
              <p class="font-semibold {{ $authorNameColor }}">
                <a href="{{ .authorLink }}">
                  <span class="absolute inset-0"></span>
                  {{ .authorName }}
                </a>
              </p>
              {{ if .authorRole }}<p class="{{ $authorRoleColor }}">{{ .authorRole }}</p>{{ end }}
            </div>
          </div>
          {{ end }}
        </div>
      </article>
      {{ end }}
    </div>
  </div>
</div>
