{{/*
@section: Three-Tier Pricing with Logos and Feature Comparison
@description: A comprehensive pricing section featuring three pricing tiers with customer logos and an extensive feature comparison table. Ideal for SaaS products with complex feature sets that need detailed comparison.
@params:
  - heading: Main heading text (optional, default: "Pricing that grows with your team size")
  - description: Text below the heading (optional, default: "Choose an affordable plan...")
  - backgroundColor: Background color class for the section (optional, default: "white")
  - gradientColors: Object with gradient color values (optional, default includes start/middle/end colors)
  - headingColor: Color class for the heading (optional, default: "gray-950")
  - descriptionColor: Color class for the description (optional, default: "gray-600")
  - tierTitleColor: Color class for tier titles (optional, default: "indigo-600")
  - logos: Array of logo objects (optional, includes defaults)
    - name: Company/client name
    - url: Logo image URL
  - tiers: Array of tier objects (optional, includes defaults)
    - name: Name of the tier
    - id: ID for accessibility
    - description: Short description of the tier
    - price: Price value with currency symbol
    - currency: Currency code
    - interval: Billing frequency text
    - ctaText: Call-to-action button text
    - ctaUrl: Call-to-action button URL
    - features: Array of feature objects for this tier
      - name: Feature name
      - included: Boolean indicating if feature is included
      - value: Optional specific value for the feature (e.g., "Unlimited")
  - featureCategories: Array of feature category objects (optional, includes defaults)
    - name: Category name
    - features: Array of features in this category
      - name: Feature name
      - values: Optional array of specific values for each tier
      - included: Optional array of booleans indicating inclusion for each tier
  - plusIcon: SVG path for the plus icon (optional, has default)
  - minusIcon: SVG path for the minus icon (optional, has default)
  - checkIcon: SVG path for the check icon (optional, has default)
@example:
  {{ partial "sections/pricing/three_tiers_with_logos_and_feature_comparison.html" (dict 
      "heading" "Enterprise-ready pricing options"
      "description" "Choose the plan that works best for your team with transparent pricing and flexible options."
      "logos" (slice
          (dict 
              "name" "Acme Corp" 
              "url" "/images/logos/acme.svg"
          )
          (dict 
              "name" "Globex" 
              "url" "/images/logos/globex.svg"
          )
          (dict 
              "name" "Initech" 
              "url" "/images/logos/initech.svg"
          )
          (dict 
              "name" "Umbrella" 
              "url" "/images/logos/umbrella.svg"
          )
          (dict 
              "name" "Cyberdyne" 
              "url" "/images/logos/cyberdyne.svg"
          )
      )
      "tiers" (slice
          (dict 
              "name" "Basic"
              "id" "tier-basic"
              "description" "Essential features for small teams."
              "price" "$29"
              "currency" "USD"
              "interval" "per user/month"
              "ctaText" "Start free trial"
              "ctaUrl" "/signup/basic"
              "features" (slice
                  (dict "name" "Custom domains" "included" true "value" "1")
                  (dict "name" "Advanced analytics" "included" true)
                  (dict "name" "Team members" "included" true "value" "5")
                  (dict "name" "Priority support" "included" false)
              )
          )
          (dict 
              "name" "Business"
              "id" "tier-business"
              "description" "Everything growing teams need."
              "price" "$79"
              "currency" "USD"
              "interval" "per user/month"
              "ctaText" "Start free trial"
              "ctaUrl" "/signup/business"
              "features" (slice
                  (dict "name" "Custom domains" "included" true "value" "5")
                  (dict "name" "Advanced analytics" "included" true)
                  (dict "name" "Team members" "included" true "value" "20")
                  (dict "name" "Priority support" "included" true)
              )
          )
          (dict 
              "name" "Enterprise"
              "id" "tier-enterprise"
              "description" "Advanced features for large organizations."
              "price" "$129"
              "currency" "USD"
              "interval" "per user/month"
              "ctaText" "Contact sales"
              "ctaUrl" "/contact/sales"
              "features" (slice
                  (dict "name" "Custom domains" "included" true "value" "Unlimited")
                  (dict "name" "Advanced analytics" "included" true)
                  (dict "name" "Team members" "included" true "value" "Unlimited")
                  (dict "name" "Priority support" "included" true)
              )
          )
      )
      "featureCategories" (slice
          (dict
              "name" "Core Features"
              "features" (slice
                  (dict "name" "Team members" "values" (slice "5" "20" "Unlimited"))
                  (dict "name" "Custom domains" "values" (slice "1" "5" "Unlimited"))
                  (dict "name" "API access" "included" (slice false true true))
              )
          )
          (dict
              "name" "Security"
              "features" (slice
                  (dict "name" "Two-factor authentication" "included" (slice true true true))
                  (dict "name" "SSO integration" "included" (slice false true true))
                  (dict "name" "Custom permissions" "included" (slice false false true))
              )
          )
      )
      "gradientColors" (dict "start" "#4F46E5" "middle" "#7C3AED" "end" "#1E293B")
  ) }}
@note: This component includes responsive design with a mobile tab interface for the feature comparison table and dynamic feature checks. The gradient background creates a visual separation between the pricing cards and comparison table sections.
*/}}

{{ $heading := .heading | default "Pricing that grows with your team size" }}
{{ $description := .description | default "Choose an affordable plan that's packed with the best features for engaging your audience, creating customer loyalty, and driving sales." }}
{{ $backgroundColor := .backgroundColor | default "white" }}
{{ $gradientColors := .gradientColors | default (dict "start" "#7775D6" "middle" "#592E71" "end" "#030712") }}
{{ $headingColor := .headingColor | default "gray-950" }}
{{ $descriptionColor := .descriptionColor | default "gray-600" }}
{{ $tierTitleColor := .tierTitleColor | default "indigo-600" }}

{{ $logos := .logos | default (slice
  (dict
    "name" "Transistor"
    "url" "https://tailwindcss.com/plus-assets/img/logos/158x48/transistor-logo-white.svg"
  )
  (dict
    "name" "Laravel"
    "url" "https://tailwindcss.com/plus-assets/img/logos/158x48/laravel-logo-white.svg"
  )
  (dict
    "name" "Tuple"
    "url" "https://tailwindcss.com/plus-assets/img/logos/158x48/tuple-logo-white.svg"
  )
  (dict
    "name" "SavvyCal"
    "url" "https://tailwindcss.com/plus-assets/img/logos/158x48/savvycal-logo-white.svg"
  )
  (dict
    "name" "Statamic"
    "url" "https://tailwindcss.com/plus-assets/img/logos/158x48/statamic-logo-white.svg"
  )
) }}

{{ $tiers := .tiers | default (slice
  (dict
    "name" "Starter"
    "id" "tier-starter"
    "description" "Everything you need to get started."
    "price" "$19"
    "currency" "USD"
    "interval" "per month"
    "ctaText" "Start a free trial"
    "ctaUrl" "#"
    "features" (slice
      (dict "name" "Custom domains" "included" true "value" "1")
      (dict "name" "Edge content delivery" "included" true)
      (dict "name" "Advanced analytics" "included" true)
      (dict "name" "Quarterly workshops" "included" false)
      (dict "name" "Single sign-on (SSO)" "included" false)
      (dict "name" "Priority phone support" "included" false)
    )
  )
  (dict
    "name" "Growth"
    "id" "tier-growth"
    "description" "All the extras for your growing team."
    "price" "$49"
    "currency" "USD"
    "interval" "per month"
    "ctaText" "Start a free trial"
    "ctaUrl" "#"
    "features" (slice
      (dict "name" "Custom domains" "included" true "value" "3")
      (dict "name" "Edge content delivery" "included" true)
      (dict "name" "Advanced analytics" "included" true)
      (dict "name" "Quarterly workshops" "included" true)
      (dict "name" "Single sign-on (SSO)" "included" false)
      (dict "name" "Priority phone support" "included" false)
    )
  )
  (dict
    "name" "Scale"
    "id" "tier-scale"
    "description" "Added flexibility at scale."
    "price" "$99"
    "currency" "USD"
    "interval" "per month"
    "ctaText" "Start a free trial"
    "ctaUrl" "#"
    "features" (slice
      (dict "name" "Custom domains" "included" true "value" "Unlimited")
      (dict "name" "Edge content delivery" "included" true)
      (dict "name" "Advanced analytics" "included" true)
      (dict "name" "Quarterly workshops" "included" true)
      (dict "name" "Single sign-on (SSO)" "included" true)
      (dict "name" "Priority phone support" "included" true)
    )
  )
) }}

{{ $featureCategories := .featureCategories | default (slice
  (dict
    "name" "Features"
    "features" (slice
      (dict "name" "Edge content delivery")
      (dict "name" "Custom domains")
      (dict "name" "Team members" "values" (slice "3" "20" "Unlimited"))
      (dict "name" "Single sign-on (SSO)")
    )
  )
  (dict
    "name" "Reporting"
    "features" (slice
      (dict "name" "Advanced analytics")
      (dict "name" "Basic reports" "included" (slice false true true))
      (dict "name" "Professional reports" "included" (slice false false true))
      (dict "name" "Custom report builder" "included" (slice false false true))
    )
  )
  (dict
    "name" "Support"
    "features" (slice
      (dict "name" "24/7 online support")
      (dict "name" "Quarterly workshops" "included" (slice false true true))
      (dict "name" "Priority phone support" "included" (slice false false true))
      (dict "name" "1:1 onboarding tour" "included" (slice false false true))
    )
  )
) }}

{{ $plusIcon := .plusIcon | default "plus" }}
{{ $minusIcon := .minusIcon | default "minus" }}
{{ $checkIcon := .checkIcon | default "check" }}

<div class="bg-{{ $backgroundColor }} py-24 sm:py-32">
  <div class="mx-auto max-w-4xl px-6 max-lg:text-center lg:max-w-7xl lg:px-8">
    <h1 class="text-5xl font-semibold tracking-tight text-balance text-{{ $headingColor }} sm:text-6xl lg:text-pretty">{{ $heading }}</h1>
    <p class="mt-6 max-w-2xl text-lg font-medium text-pretty text-{{ $descriptionColor }} max-lg:mx-auto sm:text-xl/8">{{ $description }}</p>
  </div>
  <div class="relative pt-16 sm:pt-24">
    <div class="absolute inset-x-0 top-48 bottom-0 bg-[radial-gradient(circle_at_center_center,{{ $gradientColors.start }},{{ $gradientColors.middle }},{{ $gradientColors.end }}_70%)] lg:bg-[radial-gradient(circle_at_center_150%,{{ $gradientColors.start }},{{ $gradientColors.middle }},{{ $gradientColors.end }}_70%)]"></div>
    <div class="relative mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
      <div class="grid grid-cols-1 gap-10 lg:grid-cols-3">
        {{ range $index, $tier := $tiers }}
        <div class="-m-2 grid grid-cols-1 rounded-[2rem] ring-1 shadow-[inset_0_0_2px_1px_#ffffff4d] ring-black/5 max-lg:mx-auto max-lg:w-full max-lg:max-w-md">
          <div class="grid grid-cols-1 rounded-[2rem] p-2 shadow-md shadow-black/5">
            <div class="rounded-3xl bg-white p-10 pb-9 ring-1 shadow-2xl ring-black/5">
              <h2 class="text-sm font-semibold text-{{ $tierTitleColor }}">{{ $tier.name }} <span class="sr-only">plan</span></h2>
              <p class="mt-2 text-sm/6 text-pretty text-gray-600">{{ $tier.description }}</p>
              <div class="mt-8 flex items-center gap-4">
                <div class="text-5xl font-semibold text-gray-950">{{ $tier.price }}</div>
                <div class="text-sm text-gray-600">
                  <p>{{ $tier.currency }}</p>
                  <p>{{ $tier.interval }}</p>
                </div>
              </div>
              <div class="mt-8">
                <a href="{{ $tier.ctaUrl }}" aria-label="{{ $tier.ctaText }} on the {{ $tier.name }} plan" class="inline-block rounded-md bg-indigo-600 px-3.5 py-2 text-center text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">{{ $tier.ctaText }}</a>
              </div>
              <div class="mt-8">
                <h3 class="text-sm/6 font-medium text-gray-950">Start selling with:</h3>
                <ul class="mt-3 space-y-3">
                  {{ range $feature := $tier.features }}
                  <li {{ if not $feature.included }}data-disabled="true"{{ end }} class="group flex items-start gap-4 text-sm/6 text-gray-600 data-disabled:text-gray-400">
                    <span class="inline-flex h-6 items-center">
                      <svg class="size-4 fill-gray-400 group-data-disabled:fill-gray-300" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                        {{ $plusIcon | safeHTML }}
                      </svg>
                    </span>
                    {{ if not $feature.included }}<span class="sr-only">Not included:</span>{{ end }}
                    {{ $feature.name }}
                  </li>
                  {{ end }}
                </ul>
              </div>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="flex justify-between py-16 opacity-60 max-sm:mx-auto max-sm:max-w-md max-sm:flex-wrap max-sm:justify-evenly max-sm:gap-x-4 max-sm:gap-y-4 sm:py-24">
        {{ range $logo := $logos }}
          {{ partial "components/media/lazyimg.html" (dict "src" $logo.url "alt" $logo.name "class" "h-9 max-sm:mx-auto sm:h-8 lg:h-12" "maxWidth" 200) }}
        {{ end }}
      </div>
    </div>
  </div>
  <div class="mx-auto max-w-2xl px-6 pt-16 sm:pt-24 lg:max-w-7xl lg:px-8">
    <table class="w-full text-left max-sm:hidden">
      <caption class="sr-only">
        Pricing plan comparison
      </caption>
      <colgroup>
        <col class="w-2/5">
        <col class="w-1/5">
        <col class="w-1/5">
        <col class="w-1/5">
      </colgroup>
      <thead>
        <tr>
          <td class="p-0"></td>
          {{ range $tier := $tiers }}
          <th scope="col" class="p-0">
            <div class="text-sm font-semibold text-{{ $tierTitleColor }}">{{ $tier.name }} <span class="sr-only">plan</span></div>
          </th>
          {{ end }}
        </tr>
        <tr>
          <th class="p-0"></th>
          {{ range $tier := $tiers }}
          <td class="px-0 pt-3 pb-0">
            <a href="{{ $tier.ctaUrl }}" aria-label="Get started with the {{ $tier.name }} plan" class="inline-block rounded-md bg-white px-2.5 py-1.5 text-center text-sm/6 font-semibold text-gray-900 ring-1 shadow-xs ring-gray-300 ring-inset hover:bg-gray-50">Get started</a>
          </td>
          {{ end }}
        </tr>
      </thead>
      {{ range $categoryIndex, $category := $featureCategories }}
      <tbody class="group">
        <tr>
          <th scope="colgroup" colspan="4" class="px-0 pt-10 pb-0 {{ if eq $categoryIndex 0 }}group-first-of-type:pt-5{{ end }}">
            <div class="-mx-4 rounded-lg bg-gray-50 px-4 py-3 text-sm/6 font-semibold text-gray-950">{{ $category.name }}</div>
          </th>
        </tr>
        {{ range $feature := $category.features }}
        <tr class="border-b border-gray-100 last:border-none">
          <th scope="row" class="px-0 py-4 text-sm/6 font-normal text-gray-600">{{ $feature.name }}</th>
          {{ if $feature.values }}
            {{ range $i, $value := $feature.values }}
            <td class="p-4 max-sm:text-center">
              <span class="sr-only">{{ index $tiers $i "name" }} includes:</span>
              <span class="text-sm/6 text-gray-950">{{ $value }}</span>
            </td>
            {{ end }}
          {{ else if $feature.included }}
            {{ range $i, $included := $feature.included }}
            <td class="p-4 max-sm:text-center">
              {{ if $included }}
              <svg class="inline-block size-4 fill-green-600" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                {{ $checkIcon | safeHTML }}
              </svg>
              <span class="sr-only">Included in {{ index $tiers $i "name" }}</span>
              {{ else }}
              <svg class="inline-block size-4 fill-gray-400" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                {{ $minusIcon | safeHTML }}
              </svg>
              <span class="sr-only">Not included in {{ index $tiers $i "name" }}</span>
              {{ end }}
            </td>
            {{ end }}
          {{ else }}
            {{ range $tier := $tiers }}
            {{ $tierFeature := index (where $tier.features "name" $feature.name) 0 }}
            <td class="p-4 max-sm:text-center">
              {{ if $tierFeature }}
                {{ if $tierFeature.value }}
                <span class="sr-only">{{ $tier.name }} includes:</span>
                <span class="text-sm/6 text-gray-950">{{ $tierFeature.value }}</span>
                {{ else }}
                <svg class="inline-block size-4 fill-green-600" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                  {{ $checkIcon | safeHTML }}
                </svg>
                <span class="sr-only">Included in {{ $tier.name }}</span>
                {{ end }}
              {{ else }}
              <svg class="inline-block size-4 fill-gray-400" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                {{ $minusIcon | safeHTML }}
              </svg>
              <span class="sr-only">Not included in {{ $tier.name }}</span>
              {{ end }}
            </td>
            {{ end }}
          {{ end }}
        </tr>
        {{ end }}
      </tbody>
      {{ end }}
    </table>
    <div class="sm:hidden">
      <div class="flex" aria-orientation="horizontal" role="tablist">
        {{ range $index, $tier := $tiers }}
        <button id="tabs-1-tab-{{ add $index 1 }}" class="w-1/3 border-b border-gray-100 py-4 text-base/8 font-medium text-{{ $tierTitleColor }} not-focus-visible:focus:outline-sky-600" aria-controls="tabs-1-panel-{{ add $index 1 }}" role="tab" type="button">{{ $tier.name }}</button>
        {{ end }}
      </div>

      {{ range $tierIndex, $tier := $tiers }}
      <div id="tabs-1-panel-{{ add $tierIndex 1 }}" aria-labelledby="tabs-1-tab-{{ add $tierIndex 1 }}" role="tabpanel" tabindex="0">
        <a href="{{ $tier.ctaUrl }}" class="mt-8 block rounded-md bg-white px-3.5 py-2.5 text-center text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-gray-300 ring-inset hover:bg-gray-50">Get started</a>
        
        {{ range $categoryIndex, $category := $featureCategories }}
        <div class="-mx-6 mt-10 rounded-lg bg-gray-50 px-6 py-3 text-sm/6 font-semibold text-gray-950 {{ if eq $categoryIndex 0 }}group-first-of-type:mt-5{{ end }}">{{ $category.name }}</div>
        <dl>
          {{ range $feature := $category.features }}
          <div class="grid grid-cols-2 border-b border-gray-100 py-4 last:border-none">
            <dt class="text-sm/6 font-normal text-gray-600">{{ $feature.name }}</dt>
            <dd class="text-center">
              {{ if $feature.values }}
                <span class="text-sm/6 text-gray-950">{{ index $feature.values $tierIndex }}</span>
              {{ else if $feature.included }}
                {{ if index $feature.included $tierIndex }}
                <svg class="inline-block size-4 fill-green-600" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                  {{ $checkIcon | safeHTML }}
                </svg>
                <span class="sr-only">Yes</span>
                {{ else }}
                <svg class="inline-block size-4 fill-gray-400" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                  {{ $minusIcon | safeHTML }}
                </svg>
                <span class="sr-only">No</span>
                {{ end }}
              {{ else }}
                {{ $tierFeature := index (where $tier.features "name" $feature.name) 0 }}
                {{ if $tierFeature }}
                  {{ if $tierFeature.value }}
                  <span class="text-sm/6 text-gray-950">{{ $tierFeature.value }}</span>
                  {{ else }}
                  <svg class="inline-block size-4 fill-green-600" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                    {{ $checkIcon | safeHTML }}
                  </svg>
                  <span class="sr-only">Yes</span>
                  {{ end }}
                {{ else }}
                <svg class="inline-block size-4 fill-gray-400" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                  {{ $minusIcon | safeHTML }}
                </svg>
                <span class="sr-only">No</span>
                {{ end }}
              {{ end }}
            </dd>
          </div>
          {{ end }}
        </dl>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </div>
</div>
