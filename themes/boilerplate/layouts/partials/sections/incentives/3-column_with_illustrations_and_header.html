{{/*
@section: Three-Column Incentives with Illustrations and Header
@description: A section showcasing key incentives or benefits in a three-column layout with illustrations, preceded by a header with title and description.
@params:
  - backgroundColor: Background color class (optional, default: "bg-white")
  - title: Main heading text (optional, default: "We built our business on customer service")
  - description: Supporting text below the heading (optional, default: "At the beginning at least...")
  - incentives: Array of incentive objects (optional, includes defaults)
    - title: Incentive title
    - description: Incentive description
    - iconUrl: URL for the incentive icon
    - iconAlt: Alt text for the incentive icon
@example:
  {{ partial "sections/incentives/3-column_with_illustrations_and_header.html" (dict 
      "title" "Why customers choose us" 
      "description" "We're committed to providing the best experience possible with these key benefits."
      "incentives" (slice
          (dict 
              "title" "24/7 Support" 
              "description" "Our support team is available around the clock to help you with any questions or issues."
              "iconUrl" "/images/icons/support.svg"
              "iconAlt" "Support icon"
          )
          (dict 
              "title" "Money-back Guarantee" 
              "description" "If you're not satisfied with our product within 30 days, we'll refund your purchase, no questions asked."
              "iconUrl" "/images/icons/guarantee.svg"
              "iconAlt" "Guarantee icon"
          )
          (dict 
              "title" "Secure Payments" 
              "description" "All transactions are processed through secure and encrypted payment gateways to protect your information."
              "iconUrl" "/images/icons/secure.svg"
              "iconAlt" "Security icon"
          )
      )
      "backgroundColor" "bg-gray-50"
  ) }}
@note: This section is responsive - on mobile/tablet screens, the incentives display with icons on the left, while on desktop they stack vertically in three columns.
*/}}

{{ $backgroundColor := .backgroundColor | default "bg-white" }}
{{ $title := .title | default "We built our business on customer service" }}
{{ $description := .description | default "At the beginning at least, but then we realized we could make a lot more money if we kinda stopped caring about that. Our new strategy is to write a bunch of things that look really good in the headlines, then clarify in the small print but hope people don't actually read it." }}
{{ $incentives := .incentives | default (slice 
  (dict 
    "title" "Free shipping" 
    "description" "It's not actually free we just price it into the products. Someone's paying for it, and it's not us." 
    "iconUrl" "https://tailwindcss.com/plus-assets/img/ecommerce/icons/icon-shipping-simple.svg"
    "iconAlt" "Shipping icon"
  )
  (dict 
    "title" "10-year warranty" 
    "description" "If it breaks in the first 10 years we'll replace it. After that you're on your own though." 
    "iconUrl" "https://tailwindcss.com/plus-assets/img/ecommerce/icons/icon-warranty-simple.svg"
    "iconAlt" "Warranty icon"
  )
  (dict 
    "title" "Exchanges" 
    "description" "If you don't like it, trade it to one of your friends for something of theirs. Don't send it here though." 
    "iconUrl" "https://tailwindcss.com/plus-assets/img/ecommerce/icons/icon-exchange-simple.svg"
    "iconAlt" "Exchange icon"
  )
) }}

<div class="{{ $backgroundColor }}">
  <div class="mx-auto max-w-7xl py-24 sm:px-2 sm:py-32 lg:px-4">
    <div class="mx-auto max-w-2xl px-4 lg:max-w-none">
      <div class="max-w-3xl">
        <h2 class="text-4xl font-bold tracking-tight text-gray-900">{{ $title }}</h2>
        <p class="mt-4 text-gray-500">{{ $description }}</p>
      </div>
      <div class="mt-16 grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-3">
        {{ range $incentives }}
          <div class="sm:flex lg:block">
            <div class="sm:shrink-0">
              {{ if eq (hasPrefix .iconUrl "http") true }}
                {{ partial "components/media/lazyimg.html" (dict 
                  "src" .iconUrl 
                  "alt" .iconAlt 
                  "class" "size-16" 
                  "loading" "lazy" 
                  "decoding" "async"
                ) }}
              {{ else }}
                {{ partial "components/media/lazyimg.html" (dict 
                  "src" .iconUrl 
                  "alt" .iconAlt 
                  "class" "size-16" 
                  "loading" "lazy" 
                  "decoding" "async"
                ) }}
              {{ end }}
            </div>
            <div class="mt-4 sm:mt-0 sm:ml-6 lg:mt-6 lg:ml-0">
              <h3 class="text-sm font-medium text-gray-900">{{ .title }}</h3>
              <p class="mt-2 text-sm text-gray-500">{{ .description }}</p>
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>
</div>
