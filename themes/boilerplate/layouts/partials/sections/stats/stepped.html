{{/*
@section: Stepped Stats
@description: A dynamic statistics section featuring multiple stat cards with varied sizes, background colors, and alignments, creating a visually striking "stepped" layout.
@params:
  - bgColor: Background color class (optional, default: "bg-white")
  - padding: Padding classes (optional, default: "py-24 sm:py-32")
  - showHeading: Whether to display the heading section (optional, default: true)
  - heading: Main section heading (optional, default: "We approach work as a place to make the world better")
  - headingColor: Heading color class (optional, default: "text-gray-900")
  - description: Section description text (optional, default: "Diam nunc lacus lacus aliquam turpis enim...")
  - descriptionColor: Description color class (optional, default: "text-gray-600")
  - stats: Array of statistic objects (optional, includes defaults)
    - value: The statistic value to display
    - title: Title for the statistic
    - description: Detailed description of the statistic
    - bgColor: Background color for the card (optional, default: varies)
    - valueColor: Color class for the value (optional, default: varies)
    - titleColor: Color class for the title (optional, default: varies)
    - descriptionColor: Color class for the description (optional, default: varies)
    - width: Width class for the card (optional, default: varies)
    - gapY: Gap spacing class for the card (optional, default: varies)
@example:
  {{ partial "sections/stats/stepped.html" (dict 
      "heading" "Our Impact by the Numbers" 
      "description" "We're transforming the way businesses operate with measurable results across our platform."
      "stats" (slice
          (dict 
              "value" "500K+" 
              "title" "Active users on our platform"
              "description" "Our growing community of users drives innovation and engagement across our ecosystem."
              "bgColor" "bg-blue-50"
              "valueColor" "text-blue-700"
          )
          (dict 
              "value" "$12.5M" 
              "title" "Revenue generated by our customers using our platform solutions"
              "description" "We help businesses grow and succeed with our powerful tools."
              "bgColor" "bg-gray-900"
              "valueColor" "text-white"
              "titleColor" "text-white"
              "descriptionColor" "text-gray-300"
          )
          (dict 
              "value" "99.99%" 
              "title" "Platform uptime over the past year"
              "description" "Reliability you can count on. Our infrastructure is built for mission-critical applications."
              "bgColor" "bg-green-600"
              "valueColor" "text-white"
              "titleColor" "text-white"
              "descriptionColor" "text-green-100"
          )
      )
  ) }}
@note: This component creates visual interest through its asymmetrical layout and varied card designs. The responsive design adapts from a stacked mobile view to a stepped desktop layout. Each stat card can have its own background color, text colors, and dimensions, making this component highly customizable for creating visually distinctive statistics displays.
*/}}

{{/* Configurable variables */}}
{{ $bgColor := .bgColor | default "bg-white" }}
{{ $padding := .padding | default "py-24 sm:py-32" }}

{{/* Heading */}}
{{ $showHeading := .showHeading | default true }}
{{ $heading := .heading | default "We approach work as a place to make the world better" }}
{{ $headingColor := .headingColor | default "text-gray-900" }}
{{ $description := .description | default "Diam nunc lacus lacus aliquam turpis enim. Eget hac velit est euismod lacus. Est non placerat nam arcu. Cras purus nibh cursus sit eu in id. Integer vel nibh." }}
{{ $descriptionColor := .descriptionColor | default "text-gray-600" }}

{{/* Stats */}}
{{ $stats := .stats | default slice }}

{{/* Default stats if none provided */}}
{{ if eq (len $stats) 0 }}
  {{ $stats = slice 
    (dict 
      "value" "250k"
      "title" "Users on the platform"
      "description" "Vel labore deleniti veniam consequuntur sunt nobis."
      "bgColor" "bg-gray-50"
      "valueColor" "text-gray-900"
      "titleColor" "text-gray-900"
      "descriptionColor" "text-gray-600"
      "width" "lg:w-72"
    )
    (dict 
      "value" "$8.9 billion"
      "title" "We're proud that our customers have made over $8 billion in total revenue."
      "description" "Eu duis porta aliquam ornare. Elementum eget magna egestas."
      "bgColor" "bg-gray-900"
      "valueColor" "text-white"
      "titleColor" "text-white"
      "descriptionColor" "text-gray-400"
      "width" "lg:w-full lg:max-w-sm lg:flex-auto"
      "gapY" "lg:gap-y-44"
    )
    (dict 
      "value" "401,093"
      "title" "Transactions this year"
      "description" "Eu duis porta aliquam ornare. Elementum eget magna egestas. Eu duis porta aliquam ornare."
      "bgColor" "bg-indigo-600"
      "valueColor" "text-white"
      "titleColor" "text-white"
      "descriptionColor" "text-indigo-200"
      "width" "lg:w-full lg:max-w-none lg:flex-auto"
      "gapY" "lg:gap-y-28"
    )
  }}
{{ end }}

<div class="{{ $bgColor }} {{ $padding }}">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    {{ if $showHeading }}
    <div class="mx-auto max-w-2xl lg:mx-0">
      <h2 class="text-4xl font-semibold tracking-tight text-pretty {{ $headingColor }} sm:text-5xl">{{ $heading }}</h2>
      <p class="mt-6 text-base/7 {{ $descriptionColor }}">{{ $description }}</p>
    </div>
    {{ end }}
    <div class="mx-auto mt-16 flex max-w-2xl flex-col gap-8 lg:mx-0 lg:mt-20 lg:max-w-none lg:flex-row lg:items-end">
      {{ range $index, $stat := $stats }}
      {{ $width := $stat.width | default "lg:w-72 lg:max-w-none lg:flex-none" }}
      {{ $gapY := $stat.gapY | default "" }}
      {{ $bgColor := $stat.bgColor | default "bg-gray-50" }}
      {{ $valueColor := $stat.valueColor | default "text-gray-900" }}
      {{ $titleColor := $stat.titleColor | default "text-gray-900" }}
      {{ $descriptionColor := $stat.descriptionColor | default "text-gray-600" }}
      
      {{ $smWidth := "" }}
      {{ if eq $index 0 }}
        {{ $smWidth = "sm:w-3/4 sm:max-w-md" }}
      {{ else if eq $index 1 }}
        {{ $smWidth = "" }}
      {{ else if eq $index 2 }}
        {{ $smWidth = "sm:w-11/12 sm:max-w-xl" }}
      {{ end }}
      
      <div class="flex flex-col-reverse justify-between gap-x-16 gap-y-8 rounded-2xl {{ $bgColor }} p-8 {{ $smWidth }} sm:flex-row-reverse sm:items-end {{ $width }} lg:flex-col lg:items-start {{ $gapY }}">
        <p class="flex-none text-3xl font-bold tracking-tight {{ $valueColor }}">{{ $stat.value }}</p>
        <div class="sm:w-80 sm:shrink lg:w-auto lg:flex-none">
          <p class="text-lg font-semibold tracking-tight {{ $titleColor }}">{{ $stat.title }}</p>
          <p class="mt-2 text-base/7 {{ $descriptionColor }}">{{ $stat.description }}</p>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</div>
